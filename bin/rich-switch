#!/usr/bin/env node
const { program } = require('commander');
const shell = require('shelljs');
const chalk = require('chalk');

program
  .name('rich')
  .usage('switch <branch-name> [branch-name]')
  .on('--help', () => {
    console.log()
    console.log(chalk.gray('    # create git\'s new branch'))
    console.log('    $ rich branch feature-f1')
    console.log()
  })
  .on('exit', console.log)
  .parse(process.argv)

function help () {
  if (program.args.length < 1) return program.help()
}

help()

let branchName = program.args[0]; // 模版名称

function run () {
  shell.exec(`git switch ${branchName}`)
}
run()